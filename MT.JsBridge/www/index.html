<!doctype html>
<html>
	<head>
		<title>MT.JsBridge</title>
	</head>
	<body>
		<div role="main">
			Loading...
		</div>
		
		<script>
			window.onload = function(e) {
		
				// listen to doBrowserStuff event triggered from native code.
				Mt.App.addEventListener('doBrowserStuff', function(data) {
			
					console.log('doBrowserStuff Callback:');
					console.log(data.Message);
			
				});
			
				// fire doNativeStuff in native code.
				Mt.App.fireEvent('doNativeStuff', { msg: 'Hi, this msg is from the browser.' });
			
			};

			// write console log calls to body.
			console.log = function(msg) {
				var p = document.createElement('p');
			    p.innerHTML = msg;
				document.getElementsByTagName('body')[0].appendChild(p);
			};
			
		</script>
	</body>
</html>